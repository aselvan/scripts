#
# selvans home automation --- show doorbell on devices that can show video
# Author:  Arul Selvan
# Version: Jun 15, 2023
#
metadata:
  name: Doorbell
  description: Display doorbell on google displays, TVs etc.
automations:
  - starters:
      - type: device.state.Online
        state: online
        is: true
        device: doorbell - Front door
      - type: assistant.event.OkGoogle
        eventData: query
        is: "show doorbell"
    actions:
      - type: assistant.command.OkGoogle
        devices: Homegen1 - Living Room
        okGoogle: "show my doorbell on Homegen1"
      - type: assistant.command.OkGoogle
        okGoogle: "show my doorbell on Homegen2"
        devices: Homegen2 - Bedroom
      # now, wait for 1 minute and tell it to stop showing doorbell
      - type: time.delay
        for: 1 min
      - type: assistant.command.OkGoogle
        devices: Homegen1 - Living Room
        okGoogle: "stop"
      - type: assistant.command.OkGoogle
        devices: Homegen2 - Bedroom
        okGoogle: "stop"

